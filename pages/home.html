<!DOCTYPE html>
<html lang="en">
<head>
  <!--  linkedin,comentarios adicionales, informe cv -->
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <title>Conexion Capp 3.0</title>
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.1.3/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-1BmE4kWBq78iYhFldvKuhfTAU6auU8tT94WrHftjDbrCEXSU1oBoqyl2QvZ6jIW3" crossorigin="anonymous">
    <link rel="shortcut icon" href="https://conexion-hr.com/wp-content/uploads/2022/04/conexion-hr-favicon.png" sizes="32x32">
    <link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/bootstrap/3.4.1/css/bootstrap.min.css" integrity="sha384-HSMxcRTRxnN+Bdg0JdbxYKrThecOKuH5zCYotlSAcp1+c8xmyTe9GYg1l9a69psu" crossorigin="anonymous">
    <script src="https://code.jquery.com/jquery-latest.min.js"></script>
    <script src="https://cdn.jsdelivr.net/mark.js/8.6.0/jquery.mark.min.js"></script>
    <script src="https://stackpath.bootstrapcdn.com/bootstrap/3.4.1/js/bootstrap.min.js" integrity="sha384-aJ21OjlMXNL5UyIl/XNwTMqvzeRMZH2w8c5cRVpzpU8Y5bApTppSuUkhZXN0VxHd" crossorigin="anonymous"></script>
    <link href="../css/bootstrap-sidebar.min.css" rel="stylesheet">
    <link href="https://fonts.googleapis.com/css2?family=Ubuntu:wght@500&display=swap" rel="stylesheet">
    <link rel="stylesheet" type="text/css" href="https://cdn.jsdelivr.net/npm/toastify-js/src/toastify.min.css">
    <link rel="stylesheet" href="../css/style.css">

</head>
<body class="bodyHome">
  <div>
    <nav class="navbar navbar-fixed-top">
        <div class="navbar-header">
          <a href="home.html"><img class="logo" src="https://conexion-hr.com/wp-content/uploads/2022/01/conexion-hr-w-bb-300x47.png" alt="logo"></a>
        </div>
        <ul class="buttonOff" id="singOffAndButton">
          <li class="dropdown singOffAndButtonOff">
             <a class="singOff"><span class="salir glyphicon glyphicon-off" style="color: white;" aria-hidden="true"></span></a>
          </li>
        </ul>
    </nav>
    <div>
      <div class="container-fluid Aplications">
        <div class="row">
          <div >
            <div>
              <p id="bienvenido" ></p>
              <div class="panel-heading ">Aplicaciones</div>
                <div id="feature-content">
                  <div>
                    <div class="panel panel-primary">
                      <div class="panel-body text-center"  type="button" class="btn btn-primary" data-toggle="modal" data-target="#reserva">
                        <span class="glyphicon glyphicon-user icon-big" aria-hidden="true"></span>
                        <h3>Reservar</h3>
                      </div>
                    </div>
                  </div>
                <div>
                  <div class="panel panel-primary">
                    <div class="panel-body text-center"  data-toggle="modal" data-target="#informe"  >
                      <span class="glyphicon glyphicon-list icon-big" aria-hidden="true"></span>
                      <h3>Cargar Informe</h3>
                    </div>
                  </div>
                </div>
                <div id="informes">
                  <div  class="panel panel-primary">
                    <div class="panel-body text-center"  data-toggle="modal" data-target="#tablasInformes"  >
                      <span class="glyphicon glyphicon-list-alt icon-big" aria-hidden="true"></span>
                      <h3>Pipeline</h3>
                    </div>
                  </div>
                </div>
                <div id="cambioestados">
                  <div class="panel panel-primary">
                    <div class="panel-body text-center"  data-toggle="modal" data-target="#cambioDeEstado"  >
                      <span class="glyphicon 
                      glyphicon glyphicon-hourglass icon-big" aria-hidden="true"></span>
                      <h3>Cambio estado</h3>
                    </div>
                  </div>
                </div>
                <div id="miscandidatos">
                  <a href="./enCliente.html" class="panel panel-primary"  style="text-decoration:none;">
                    <div class="panel-body text-center">
                      <span class="glyphicon glyphicon-lock icon-big" aria-hidden="true"></span>
                      <h3>Mis Candidatos</h3>
                    </div>
                  </a>
                </div>
                <div id="ba">
                  <a href="./dataTable.html" class="panel panel-primary" style="text-decoration:none;" >
                    <div class="panel-body text-center">
                      <span class="glyphicon glyphicon-search icon-big" aria-hidden="true"></span>
                      <h3>Busquedas Abiertas</h3>
                    </div>
                  </a>
                </div>
                <div id="metricas">
                  <a href="./metricas.html" class="panel panel-primary" style="text-decoration:none;" >
                    <div class="panel-body text-center">
                      <span class="glyphicon glyphicon-stats icon-big" aria-hidden="true"></span>
                      <h3>Métricas</h3>
                    </div>
                  </a>
                </div>
              </div>
            </div>
          </div>
        </div>
        <div style="clear:both"></div>
      </div>
    </div>
  </div>
  <!--
  <div id="carouselExampleCaptions" class="carousel slide" data-bs-ride="carousel">
    <div class="carousel-inner" id="listadoBusquedas">
      <h3 class="h3busq">Búsquedas de alta prioridad</h3>
    </div>
  </div>-->
  <footer class="footer">
    <p style="color: white; text-align:center ">2022 ConexionHR sistema </p>
  </footer>

  <script>
  if (1===0){
    const listadoBusquedas = document.getElementById('listadoBusquedas')
    let i = 0

    fetch('https://conexion.techne.net.ar:80/busquedasPrioritarias')
        .then( (resp) => resp.json())
        .then( (data) => {
          data.forEach((post)=>{
            const div = document.createElement('div');
            div.classList.add('carousel-item')
            if (i==0){
                div.classList.add('active');
                i=1;
                }
            const h2 = document.createElement('h2');
            h2.classList.add('h2busq')
            h2.innerHTML = post.nube
            listadoBusquedas.append(div);
            div.appendChild(h2)
          })
        })
        }
  </script>



  <div class="modal fade" id="reserva" tabindex="-1" role="dialog" aria-labelledby="exampleModalLabel"
  aria-hidden="true">
  <div class="modal-dialog" role="document">
    <div class="modal-content">
      <div class="modal-header">
        <h4 class="modal-title" style="font-weight: bold; color:black" id="exampleModalLabel">Solicitud de reserva</h4>
      </div>
      <div class="modal-body" style="color: black;">

                    <div class="form-group">
                        <label >Email</label>
                        <input type="email" class="form-control" id="email" placeholder="Escribe tu email..." >
                        <small id="emailHelp" class="form-text text-muted">Escribe tu email.</small>
                    </div>
                   <div class="form-group">
                        <label >Email Candidato</label>
                        <input type="email" class="form-control" id="emailCandidato" placeholder="Escribe el mail del candidato">
                        <small id="emailCandHelp" class="form-text text-muted">Escribe el mail del candidato</small>
                    </div>
          <div class="form-group">
                        <label >Nombre y Apellido del Candidato</label>
                        <input type="naCandi" class="form-control" id="naCandi" placeholder="Escribe el Nombre y Apellido del Candidato">
                        <small id="naCandiHelp" class="form-text text-muted">Escribe el Nombre y Apellido del Candidato</small>
                    </div>
         <div class="form-group">
                        <label >Linkedin del Candidato</label>
                        <input type="url" name="sitioweb" pattern=".+\.com" class="form-control" id="lkCandi" placeholder="Escribe el Linkedin del Candidato">
                        <small id="lkCandiHelp" class="form-text text-muted">Escribe el Linkedin del Candidato</small>
                    </div>
           <div class="form-group">
                        <label >ID de Reserva</label>
                        <input type="idReserva" class="form-control" id="idReserva" placeholder="Escribe el Id de la reserva">
                        <small id="idReservaHelp" class="form-text text-muted">Escribe el Id de la reserva, si son mas de uno separe por _</small>
                    </div>
              <div class="form-group">
                        <label >Tecnologías que sabe el candidato</label>
            <multi-input id="minput">
               <input id="tcandiInput" list="tcandi" class="form-control" placeholder="Tecnologías que sabe el candidato">
              <datalist id="tcandi">
                   <option>.NET</option>
                    <option>Android</option>
                    <option>AWS</option>
                    <option>C#</option>
                    <option>C++</option>
                    <option>GCP</option>
                    <option>GO</option>
                    <option>HTML</option>
                    <option>IONIC</option>
                    <option>iOS</option>
                    <option>Java</option>
                    <option>JavaScript (FE y BE)</option>
                    <option>Kotlin</option>
                    <option>Kubernetes</option>
                    <option>Objective C</option>
                    <option>Perl</option>
                    <option>PHP</option>
                    <option>Python</option>
                    <option>R</option>
                    <option>React Native</option>
                    <option>Ruby</option>
                    <option>Scala</option>
                    <option>SQL</option>
                    <option>Swift</option>
                    <option>WEB3</option>
                    <option>Xamarin</option>
                    <option>Other…</option>
              </datalist>
    </multi-input>
                    </div>
          <div class="form-group">
                        <label >Tipo de perfil del Candidato</label>
            <multi-input id="tinput">
                <input id="tperfilInput" list="tperfil" class="form-control" placeholder="Tipo de perfil del Candidato">
              <datalist id="tperfil">
                  <option>Analista Funcional</option>
                  <option>Arquitecto</option>
                  <option>BA</option>
                  <option>BI</option>
                  <option>Blockchain Developer</option>
                  <option>Data Analyst</option>
                  <option>Data Architect</option>
                  <option>Data Engineer</option>
                  <option>Data Science</option>
                  <option>Developer Mobile</option>
                  <option>DevOps</option>
                  <option>ETL</option>
                  <option>Infraestructura</option>
                  <option>Lider Tecnico</option>
                  <option>Machine Learning</option>
                  <option>Mulesoft / Salesforce</option>
                  <option>QA Automation</option>
                  <option>QA Manual</option>
                  <option>QC</option>
                  <option>UI</option>
                  <option>UX</option>
                  <option>UXUI</option>
                  <option>Web Developer</option>
                  <option>Otro</option>
              </datalist>
    </multi-input>
                    </div>
              <div class="form-group">
                        <label >Comentarios Adicionales</label>
                        <input type="comment" class="form-control" id="comment" placeholder="Comentarios Adicionales">
                        <small id="commentHelp" class="form-text text-muted"Comentarios Adicionales></small>
                    </div>
                </div>
      <div class="modal-footer">
        <button type="button" id="cierro" class="cierro" data-dismiss="modal">Cerrar</button>
        <button type="button" id="clear" class="clear" >Restablecer</button>
        <button type="button"  id="guardo" class="guardo" data-dismiss="modal">Guardar</button>
      </div>
    </div>
  </div>
</div>


<form class="modal fade" id="informe" tabindex="-1" role="dialog" aria-labelledby="exampleModalLabel"
  aria-hidden="true">
  <div class="modal-dialog" role="document">
    <div class="modal-content">
      <div class="modal-header">
        <h4 class="modal-title" style="font-weight: bold; color:black" id="exampleModalLabel">Cargar informe</h4>
      </div>
      <div class="modal-body" style="color: black;">

                    <div class="form-group">
                        <label >Email</label>
                        <input type="email" class="form-control" id="EmailInf" placeholder="Escribe tu email...">
                        <small id="emailHelp" class="form-text text-muted">Escribe tu email.</small>
                    </div>
                   <div class="form-group">
                        <label >Email Candidato</label>
                        <input type="email" class="form-control" id="EMailCandidatoInf" placeholder="Escribe el mail del candidato">
                        <small id="emailCandHelp" class="form-text text-muted">Escribe el mail del candidato</small>
                    </div>
          <div class="form-group">
                        <label >Nombre y Apellido del Candidato</label>
                        <input type="naCandi" class="form-control" id="NombreyApellidodelCandidatoInf" placeholder="Escribe el Nombre y Apellido del Candidato">
                        <small id="NombreyApellidodelCandidatoInf" class="form-text text-muted">Escribe el Nombre y Apellido del Candidato</small>
                    </div>
         <div class="form-group">
                        <label >¿Es Sourcer?</label><br>
                        <input type="radio" name="sourcer" id="EsSourceInf" value="Sí"> Si
                        <input type="radio" name="sourcer" id="EsSourceInf" value="No"> No
                    </div>
                    <div class="form-group">
                      <label >ID</label>
                      <input id="IdsaEnviarInf" type="idReserva" class="form-control" placeholder="IDs a Enviar a Cliente separados con '_' y sin la palabra 'ID' y sin espacios">
                      <small class="form-text text-muted">IDs a Enviar a Cliente separados con '_' y sin la palabra 'ID' y sin espacios</small>
                  </div>
           <div class="form-group">
                        <label >Remuneración mensual pretendida</label>
                        <input  type="number" id="RemuneracionPretendidaMensualInf" class="form-control"  placeholder="$100000">
                    </div>
              <div class="form-group">
                        <label >Nivel de Inglés</label><br>
                        <input type="radio" name="ingles" id="NiveldeInglesInf" value="1" > 1- No se conoce (puede o no hablar). <br>
                        <input type="radio" name="ingles" id="NiveldeInglesInf" value="2" > 2- No habla Inglés. <br>
                        <input type="radio" name="ingles" id="NiveldeInglesInf" value="3" > 3- Nivel A1. <br>
                        <input type="radio" name="ingles" id="NiveldeInglesInf" value="4" > 4- Nivel A2.<br>
                        <input type="radio" name="ingles" id="NiveldeInglesInf" value="5" > 5- Nivel B1.<br>
                        <input type="radio" name="ingles" id="NiveldeInglesInf" value="6" > 6- Nivel B2.<br>
                        <input type="radio" name="ingles" id="NiveldeInglesInf" value="7" > 7- Nivel C1.<br>
                        <input type="radio" name="ingles" id="NiveldeInglesInf" value="8" > 8- Nivel C2.<br>
                        <input type="radio" name="ingles" id="NiveldeInglesInf" value="9" > 9- Nivel bilingüe.<br>
                        <input type="radio" name="ingles" id="NiveldeInglesInf" value="10" > 10- Nivel nativo.
                    </div>
          <div class="form-group">

                        <label >Locación</label>
                        <input type="text" placeholder="Locación" multiple name="locacion" id="LocacionInf" list="places" class="form-control" >
                        <datalist id="places">
                          <option >No se sabe / No se conoce</option>
                          <option > Afganistán</option>
                          <option > Albania</option>
                          <option > Alemania</option>
                          <option > Andorra</option>
                          <option > Angola</option>
                          <option > Antigua y Barbuda</option>
                          <option > Arabia Saudita</option>
                          <option > Argelia</option>
                          <option > Argentina</option>
                          <option > Armenia</option>
                          <option > Australia</option>
                          <option > Austria</option>
                          <option > Azerbaiyán</option>
                          <option > Bahamas</option>
                          <option > Bangladés</option>
                          <option > Barbados</option>
                          <option > Baréin</option>
                          <option > Bélgica</option>
                          <option > Belice</option>
                          <option > Benín</option>
                          <option > Bielorrusia</option>
                          <option > Birmania</option>
                          <option >Bolivia</option>
                          <option >Bosnia y Herzegovina</option>
                          <option >Botsuana</option>
                          <option >Brasil</option>
                          <option>Brunéi</option>
                          <option>Bulgaria</option>
                          <option>Burkina Faso</option>
                          <option>Burundi</option>
                          <option>Bután</option>
                          <option>Cabo Verde</option>
                          <option>Camboya</option>
                          <option>Camerún</option>
                          <option>Canadá</option>
                          <option>Catar</option>
                          <option>Chad</option>
                          <option>Chile</option>
                          <option>China</option>
                          <option>Chipre</option>
                          <option>Ciudad del Vaticano</option>
                          <option>Colombia</option>
                          <option>Comoras</option>
                          <option>Corea del Norte</option>
                          <option>Corea del Sur</option>
                          <option>Costa de Marfil</option>
                          <option>Costa Rica</option>
                          <option>Croacia</option>
                          <option>Cuba</option>
                          <option>Dinamarca</option>
                          <option>Dominica</option>
                          <option>Ecuador</option>
                          <option>Egipto</option>
                          <option>El Salvador</option>
                          <option>Emiratos Árabes Unidos</option>
                          <option>Eritrea</option>
                          <option>Eslovaquia</option>
                          <option>Eslovenia</option>
                          <option>España</option>
                          <option>Estados Unidos</option>
                          <option>Estonia</option>
                          <option>Etiopía</option>
                          <option>Filipinas</option>
                          <option>Finlandia</option>
                          <option>Fiyi</option>
                          <option>Francia</option>
                          <option>Gabón</option>
                          <option>Gambia</option>
                          <option>Georgia</option>
                          <option>Ghana</option>
                          <option>Granada</option>
                          <option>Grecia</option>
                          <option>Guatemala</option>
                          <option>Guyana</option>
                          <option>Guinea</option>
                          <option>Guinea ecuatorial</option>
                          <option>Guinea-Bisáu</option>
                          <option>Haití</option>
                          <option>Honduras</option>
                          <option>Hungría</option>
                          <option>India</option>
                          <option>Indonesia</option>
                          <option>Irak</option>
                          <option>Irán</option>
                          <option>Irlanda</option>
                          <option>Islandia</option>
                          <option>Islas Marshall</option>
                          <option>Islas Salomón</option>
                          <option>Israel</option>
                          <option>Italia</option>
                          <option>Jamaica</option>
                          <option>Japón</option>
                          <option>Jordania</option>
                          <option>Kazajistán</option>
                          <option>Kenia</option>
                          <option>Kirguistán</option>
                          <option>Kiribati</option>
                          <option>Kuwait</option>
                          <option>Laos</option>
                          <option>Lesoto</option>
                          <option>Letonia</option>
                          <option>Líbano</option>
                          <option>Liberia</option>
                          <option>Libia</option>
                          <option>Liechtenstein</option>
                          <option>Lituania</option>
                          <option>Luxemburgo</option>
                          <option>Macedonia del Norte</option>
                          <option>Madagascar</option>
                          <option>Malasia</option>
                          <option>Malaui</option>
                          <option>Maldivas</option>
                          <option>Malí</option>
                          <option>Malta</option>
                          <option>Marruecos</option>
                          <option>Mauricio</option>
                          <option>Mauritania</option>
                          <option>México</option>
                          <option>Micronesia</option>
                          <option>Moldavia</option>
                          <option>Mónaco</option>
                          <option>Mongolia</option>
                          <option>Montenegro</option>
                          <option>Mozambique</option>
                          <option>Namibia</option>
                          <option>Nauru</option>
                          <option>Nepal</option>
                          <option>Nicaragua</option>
                          <option>Níger</option>
                          <option>Nigeria</option>
                          <option>Noruega</option>
                          <option>Nueva Zelanda</option>
                          <option>Omán</option>
                          <option>Países Bajos</option>
                          <option>Pakistán</option>
                          <option>Palaos</option>
                          <option>Panamá</option>
                          <option>Papúa Nueva Guinea</option>
                          <option>Paraguay</option>
                          <option>Perú</option>
                          <option>Polonia</option>
                          <option>Portugal</option>
                          <option>Reino Unido</option>
                          <option>República Centroafricana</option>
                          <option>República Checa</option>
                          <option>República del Congo</option>
                          <option>República Democrática del Congo</option>
                          <option>República Dominicana</option>
                          <option>Ruanda</option>
                          <option>Rumanía</option>
                          <option>Rusia</option>
                          <option>Samoa</option>
                          <option>San Cristóbal y Nieves</option>
                          <option>San Marino</option>
                          <option>San Vicente y las Granadinas</option>
                          <option>Santa Lucía</option>
                          <option>Santo Tomé y Príncipe</option>
                          <option>Senegal</option>
                          <option>Serbia</option>
                          <option>Seychelles</option>
                          <option>Sierra Leona</option>
                          <option>Singapur</option>
                          <option>Siria</option>
                          <option>Somalia</option>
                          <option>Sri Lanka</option>
                          <option>Suazilandia</option>
                          <option>Sudáfrica</option>
                          <option>Sudán</option>
                          <option>Sudán del Sur</option>
                          <option>Suecia</option>
                          <option>Suiza</option>
                          <option>Surinam</option>
                          <option>Tailandia</option>
                          <option>Tanzania</option>
                          <option>Tayikistán</option>
                          <option>Timor Oriental</option>
                          <option>Togo</option>
                          <option>Tonga</option>
                          <option>Trinidad y Tobago</option>
                          <option>Túnez</option>
                          <option>Turkmenistán</option>
                          <option>Turquía</option>
                          <option>Tuvalu</option>
                          <option>Ucrania</option>
                          <option>Uganda</option>
                          <option>Uruguay</option>
                          <option>Uzbekistán</option>
                          <option>Vanuatu</option>
                          <option>Venezuela</option>
                          <option>Vietnam</option>
                          <option>Yemen</option>
                          <option>Yibuti</option>
                          <option>Zambia</option>
                          <option>Zimbabue</option>
                        </datalist>
                    </div>
                    <div class="form-group">
                      <label >Linkedin del Candidato</label>
                      <input type="url" name="sitioweb" pattern=".+\.com" class="form-control" id="LKCandiInf" placeholder="Escribe el Linkedin del Candidato">
                      <small id="lkCandiHelp" class="form-text text-muted">Escribe el Linkedin del Candidato</small>
                  </div>
                  <div class="form-group">
                    <label >Tecnologías que sabe el candidato</label>
        <multi-input id="minputInf">
           <input id="TecnoCandiInf" list="tcandi" class="form-control" placeholder="Tecnologías que sabe el candidato">
          <datalist id="tcandi">
               <option>.NET</option>
                <option>Android</option>
                <option>AWS</option>
                <option>C#</option>
                <option>C++</option>
                <option>GCP</option>
                <option>GO</option>
                <option>HTML</option>
                <option>IONIC</option>
                <option>iOS</option>
                <option>Java</option>
                <option>JavaScript (FE y BE)</option>
                <option>Kotlin</option>
                <option>Kubernetes</option>
                <option>Objective C</option>
                <option>Perl</option>
                <option>PHP</option>
                <option>Python</option>
                <option>R</option>
                <option>React Native</option>
                <option>Ruby</option>
                <option>Scala</option>
                <option>SQL</option>
                <option>Swift</option>
                <option>WEB3</option>
                <option>Xamarin</option>
                <option>Other…</option>
          </datalist>
</multi-input>
                </div>
                <div class="form-group">
                  <label >Tipo de perfil del Candidato</label>
      <multi-input id="tinputInf">
          <input id="TpCandiInf" list="tperfil" class="form-control" placeholder="Tipo de perfil del Candidato">
        <datalist id="tperfilInf">
            <option>Analista Funcional</option>
            <option>Arquitecto</option>
            <option>BA</option>
            <option>BI</option>
            <option>Blockchain Developer</option>
            <option>Data Analyst</option>
            <option>Data Architect</option>
            <option>Data Engineer</option>
            <option>Data Science</option>
            <option>Developer Mobile</option>
            <option>DevOps</option>
            <option>ETL</option>
            <option>Infraestructura</option>
            <option>Lider Tecnico</option>
            <option>Machine Learning</option>
            <option>Mulesoft / Salesforce</option>
            <option>QA Automation</option>
            <option>QA Manual</option>
            <option>QC</option>
            <option>UI</option>
            <option>UX</option>
            <option>UXUI</option>
            <option>Web Developer</option>
            <option>Otro</option>
        </datalist>
</multi-input>
              </div>
              <div class="form-group">
                <label >Comentarios Adicionales</label>
                <input type="comment" class="form-control" id="CommentInf" placeholder="Comentarios Adicionales">
                <small id="commentHelp" class="form-text text-muted"Comentarios Adicionales></small>
            </div>
              <div class="form-group">
                        <label >CV Español Candidato</label>
                        <input class="form-control" type="file" id="cvesp">
                    </div>
                    <div class="form-group">
                      <label >Informe de Entrevista Español Candidato</label><br>
                      <input   class="form-control" style="width: 100%;" type="file" id="informeEntEsp" placeholder="Informe entrevista Español">
                  </div>
                  <div class="form-group">
                    <label >CV Inglés Candidato</label>
                    <input type="file" id="cving" class="form-control">
                </div>
                <div class="form-group">
                  <label >Informe de Entrevista Inglés Candidato</label><br>
                  <input   class="form-control" style="width: 100%;" type="file" id="informeEntIng" placeholder="Informe entrevista Inglés">
              </div>
                </div>
      <div class="modal-footer">
        <button type="button" id="cierroInf" class="cierro" data-dismiss="modal">Cerrar</button>
        <input type="reset" id="clearInf" class="clear" >
        <button type="button" id="guardoInf" class="guardo" data-dismiss="modal">Guardar</button>
      </div>
    </div>
  </div>
</form>
<div class="modal fade" id="tablasInformes" tabindex="-1" role="dialog" aria-labelledby="exampleModalLabel"
  aria-hidden="true">
  <div class="modal-dialog" role="document">
    <div class="modal-content">
      <div class="modal-header">
        <h4 class="modal-title" style="font-weight: bold; color:black" id="exampleModalLabel">Informes</h4>
      </div>
      <a  class="btn-informes" href="./misCandidatos.html">En cliente</a>
      <a  class="btn-informes" href="./reservados.html">Reservados</a>
      <a  class="btn-informes" href="./ingresosConfirmados.html">Ingresos confirmados</a>
      <a id="revisar" class="btn-informes" href="./tablaInformes.html">Informes a revisar</a>
      <div class="modal-footer">
        <button type="button"  class="cierro" data-dismiss="modal">Cerrar</button>
      </div>
    </div>
  </div>
</div>
<div class="modal fade  " id="cambioDeEstado" tabindex="-1" role="dialog" aria-labelledby="exampleModalLabel"
aria-hidden="true">
<div class="modal-dialog" role="document">
  <div class="modal-content">
    <div class="modal-header">
      <h4 class="modal-title" style="font-weight: bold; color:black" id="exampleModalLabel">Cambio de estado</h4>
    </div>
    <div class="modal-body"  style="color: black;">

                  <div class="form-group">
                      <label >Email</label>
                      <input type="email" class="form-control" id="emailSt" placeholder="Escribe tu email..." >
                      <small id="emailHelp" class="form-text text-muted">Escribe tu email.</small>
                  </div>
                 <div class="form-group">
                      <label >Email Candidato</label>
                      <input type="email" class="form-control" id="emailCandidatoSt" placeholder="Escribe el mail del candidato">
                      <small id="emailCandHelp" class="form-text text-muted">Escribe el mail del candidato</small>
                  </div>
        <div class="form-group">
                      <label >ID</label>
                      <input type="number" class="form-control" id="idSt" placeholder="Escribe el ID">
                      <small id="naCandiHelp" class="form-text text-muted">Escribe el ID</small>
                  </div>
        <div class="form-group"  style="display:flex; flex-direction:column  ">
  <label for="">Comentarios</label>
  <input type="text" id="comentariosSt"  placeholder="Comentarios" class="form-control" >
</div>
                  <div class="form-group">
                    <label >Status</label><br>
		  <select  id="statusSt" name="status" >
            <option   value="4" > Entrevista Con Cliente (no técnica) </option>
            <option   value="5" > Entrevista Técnica </option>
            <option   value="6" > Ejercicio Técnico </option>
            <option   value="7" > Trámites Ingreso </option>
            <option   value="8" > Oferta</option>
            <option   value="9" > On Hold </option>
            <option   value="10" > Pre-Offer </option>
            <option   value="11" > Ingreso</option>
            <option   value="12" > Fuera de proceso</option>
		</select>
		  </div>
      <div class="seccion2" id="seccion2">
        <div class="form-group"  style="display:flex; flex-direction:column  ">
          <label for="descripcion">Descripcion</label>
          <input type="text" id="descripcionSt" class="form-control" placeholder="Descripción"> 
   </div>
   <div class="form-group">
     <label >Proceso finalizado por:</label><br>
   <select  id="statusS3St" name="status" >
   <option   value="Cliente" > Cliente </option>
   <option   value="Candidato" > Candidato </option>
   <option   value="Conexión" > Conexión </option>
   </select>
   </div>
   <div class="form-group"  style="display:flex; flex-direction:column  ">
     <label for="">Salario mensual ofrecido por cliente</label>
     <input type="text" id="salarioMensualOfrecidoClienteSt" class="form-control" placeholder="Salario mensual ofrecido por cliente"> 
   </div>
   <div class="form-group"  style="display:flex; flex-direction:column  ">
     <label for="">Salario mensual pretendido por el candidato</label>
     <input type="text" id="salarioMensualPretendidoSt" class="form-control" placeholder="Salario mensual pretendido por el candidato"> 
   </div>
      </div>
      <div class="seccion3" id="seccion3">
<div class="form-group">
  <label >Motivo finalización candidato:</label><br>
  <select id="motivoFinCandi">
    <option value="Remuneración ofrecida del cliente" > Remuneración ofrecida del cliente </option>
    <option value="Modalidad de Contratación" > Modalidad de Contratación </option>
    <option value="Aceptó otra propuesta" > Aceptó otra propuesta </option>
    <option value="Sin respuesta del candidato" > Sin respuesta del candidato </option>
    <option value="No le interesa la propuesta en general" > No le interesa la propuesta en general </option>
    <option value="No se sabe" > No se sabe </option>
    <option value="Rechazo Offer" > Rechazo Offer </option>
    <option value="Otro" > Otro </option>
    </select>
</div>
</div>
<div class="seccion3" id="seccion4">
<div class="form-group">
  <label >Motivo finalización cliente:</label><br>
  <select id="motivoFinCliente">
    <option  value="Seniority" > Seniority </option>
    <option  value="Fit Cultural" > Fit Cultural </option>
    <option  value="Remuneración pretendida del candidato" > Remuneración pretendida del candidato </option>
    <option  value="Nivel de idioma" > Nivel de idioma </option>
    <option  value="Locación" > Locación </option>
    <option  value="Nivel Técnico" > Nivel Técnico </option>
    <option  value="El cliente ya lo entrevistó antes y no le gustó" > El cliente ya lo entrevistó antes y no le gustó </option>
    <option  value="El cliente ya lo tenía activo de otro proveedor" > El cliente ya lo tenía activo de otro proveedor </option>
    <option  value="El cliente ya lo tenia activo como referido interno o base interna HR" > El cliente ya lo tenia activo como referido interno o base interna HR </option>
    <option  value="El cliente tiene malas referencias del candidato" > El cliente tiene malas referencias del candidato </option>
    <option  value="El cliente cerró la búsqueda con otro candidato" > El cliente cerró la búsqueda con otro candidato </option>
    <option  value="El cliente cerró la búsqueda sin contratados" > El cliente cerró la búsqueda sin contratados </option>
    <option  value="El cliente cerró la búsqueda sin motivo" > El cliente cerró la búsqueda sin motivo </option>
    <option  value="El  cliente cambió las características de la búsqueda" > El  cliente cambió las características de la búsqueda </option>
    <option  value="No se sabe" > No se sabe </option>
    <option  value="Otro" > Otro </option>
    </select>
</div>
</div>
<div class="seccion5" id="seccion5">
<div class="form-group"  style="display:flex; flex-direction:column  ">
  <label for="">Salario mensual acordado</label>
  <input type="text" id="salarioMensualAcordadoSt" class="form-control" placeholder="Salario mensual acordado"> 
</div>
<div class="form-group"  style="display:flex; flex-direction:column  ">
  <label for="">Fecha ingreso candidato</label>
  <input type="date" id="fechaIngresoSt" class="form-control" > 
</div>

</div>
    <div class="modal-footer">
      <button type="button" id="cancelar" class="cierro" data-dismiss="modal">Cancelar</button>
      <button type="button"  id="confirmar" class="guardo" data-dismiss="modal">Confirmar</button>
    </div>
  </div>
</div>
</div>
</body>
</html>

<script src="../js/multi-input.js">
</script>
<script>

var Base64File;
var Base64FileInformeesp;
var Base64FileIng;
var Base64FileInformeIng;
const convertBase64 = (file) => {
    return new Promise((resolve, reject) => {
        const fileReader = new FileReader();
        fileReader.readAsDataURL(file);

        fileReader.onload = () => {
            resolve(fileReader.result);
        };

        fileReader.onerror = (error) => {
            reject(error);
        };
    });
};
$("#cvesp").on("change", async function(e) {
  
  const file = event.target.files[0];
  const base64 = await convertBase64(file);
  Base64File = base64
});

$("#informeEntEsp").on("change", async function(e) {

  const file = event.target.files[0];
  const base64 = await convertBase64(file);
  Base64FileInformeesp = base64
});
$("#cving").on("change", async function(e) {

  const file = event.target.files[0];
  const base64 = await convertBase64(file);
  Base64FileIng = base64
});
$("#informeEntIng").on("change", async function(e) {

  const file = event.target.files[0];
  const base64 = await convertBase64(file);
  Base64FileInformeIng = base64
});


$("#emailCandidatoSt").focusout(function() {
      $.ajax({
              type: "POST",
              url: "https://conexion.techne.net.ar:80/getCambioEstado",
              data: {
                emailCandidatoSt: $("#emailCandidatoSt").val(),
                idSt: $("#idSt").val()
              },
              success:function(data){
                $("#emailSt").val(data[0][0]), 
                $("#idSt").val(data[0][2]), 
		         $("#statusSt").val(data[0][3]),
		         $("#comentariosSt").val(data[0][10])

              },
              error:function() {
              }
            })
})

$("#statusSt").change(function() {
      if(this.value==='11'){
        let seccion5 = document.getElementById('seccion5')
        seccion5.classList.add('seccion5D')
      }else{
        seccion5.classList.remove('seccion5D')
      }

      if(this.value==='12'){
        let seccion2 = document.getElementById('seccion2')
        let seccion4 = document.getElementById('seccion4')
        seccion2.classList.add('seccion2D')
        seccion4.classList.add('seccion4D')
      }else{
        let seccion3 = document.getElementById('seccion3')
        seccion2.classList.remove('seccion2D')
        seccion4.classList.remove('seccion4D')
        seccion3.classList.remove('seccion3D')
      }
})
$("#statusS3St").change(function() {
    val = $('#statusSt').val()
      if(this.value==='Candidato' && (val==='11' || val==='12')  ){
        let seccion3 = document.getElementById('seccion3')
        seccion3.classList.add('seccion3D')
      }else{
        seccion3.classList.remove('seccion3D')
      }

      if(this.value==='Cliente' && (val==='11' || val==='12') ){
        let seccion4 = document.getElementById('seccion4')
        seccion4.classList.add('seccion4D')
      }else{
        seccion4.classList.remove('seccion4D')
      }
})



$("#email").change(function() {
      $.ajax({
              type: "POST",
              url: "https://conexion.techne.net.ar:80/getPermitido",
              data: {
                    email: $("#email").val()
              },
              success:function(){
              },
              error:function() {
                Toastify({
                    text: "El usuario no está habilitado para hacer nuevos registros.",
                    duration: 3000,
                    newWindow: true,
                    close: true,
                    gravity: "top",
                    position: "center", 
                    stopOnFocus: true, 
                    style: {
                      background: "#221969",
                    },
                  }).showToast();
                $("#naCandi").val('');
                $("#lkCandi").val('');
                $("#idReserva").val('');
                $("#comment").val('');
                $("#email").val('');
                $("#emailCandidato").val('');
                $("#naCandi").val('');
                $("#lkCandi").val('');
                $("#idReserva").val('');
                $("#tcandiInput").val('');
                $("#tperfilInput").val('');
              }
            })
})
var anterior="";
 $("#emailCandidato").focusout(function() {

        $.ajax({type: "POST",
                url: "https://conexion.techne.net.ar:80/Getreservas",
                data: {
                        emailCandidato: $("#emailCandidato").val(),
                        email:$("#email").val(),
                      },
                statusCode: {
                  502: function(xhr) {
                    if(window.console) console.log(xhr.responseText);
                  }
                },
                success:function(data) {
                  if (data.hasOwnProperty("datos")){
                    return false
                  }else{
                    $("#email").val("");
                      valores=document.querySelector('#minput').querySelectorAll(".item");
                        for ( var i = 0, l = valores.length; i < l; i++ ) {
                        valores[i].remove();
                        }
                        valoresperfil=document.querySelector('#tinput').querySelectorAll(".item");
                        for ( var i = 0, l = valoresperfil.length; i < l; i++ ) {
                        valoresperfil[i].remove();
                        }
                    $("#naCandi").val("");
                    $("#lkCandi").val("");
                    $("#idReserva").val("");
                    $("#comment").val("");
                    $("#email").val(data['Email Address']);
                    $("#email").prop("readonly", true);
                    $("#emailCandidato").val(data['Email Candidato']);
                    $("#emailCandidato").prop("readonly", true);
                    $("#naCandi").val(data['Nombre y Apellido del Candidato']);
                    $("#lkCandi").val(data['Linkedin del Candidato']);
                    $("#idReserva").val(data['IDs de reserva separdos con "_" sin la palabra "ID"']);
                    valor=data['Tecnologías que sabe el candidato'].split(',')
                    var i;
                    for (i = 0; i < valor.length; ++i) {
                          $("<div class='item'>"+valor[i]+"<div>").insertBefore("#tcandiInput");
                    }
                  valor=data['Tipo de perfil del Candidato'].split(',')
                    var i;
                    for (i = 0; i < valor.length; ++i) {
                          $("<div class='item'>"+valor[i]+"<div>").insertBefore("#tperfilInput");
                    }


                    $("#comment").val(data['Comentarios adicionales'])

                  }
                    },
                error:function(result) {
                   if (result['responseJSON']=='510'){
                   texto='El candidato esta reservado o en pertencia con otro reclutador'
                   $("#clear").click()
                   $("#cierro").click()
                   }else{
                   texto="El candidato fue contratado con anterioridad."
                   $("#clear").click()
                   $("#cierro").click()

                    }
                  Toastify({
                    text: texto,
                    duration: 3000,
                    newWindow: true,
                    close: true,
                    gravity: "top",
                    position: "center", 
                    stopOnFocus: true, 
                    style: {
                      background: "#221969",
                    },
                  }).showToast();
  }
                })
  })

  //------------------------------------------------------------

  $("#EMailCandidatoInf").focusout(function() {
     if (anterior=="" && $("#EMailCandidatoInf").val() != "")
     {
        $.ajax({type: "POST",
                url: "https://conexion.techne.net.ar:80/Getreservas",
                data: {
                        emailCandidato: $("#EMailCandidatoInf").val(),
                        email: $("#EmailInf").val()
                      },
                success:function(data) {
                  if (data.hasOwnProperty("datos")){
                    return false
                  }else{
                    $("#emailInf").val("");
                      valores=document.querySelector('#minputInf').querySelectorAll(".item");
                        for ( var i = 0, l = valores.length; i < l; i++ ) {
                        valores[i].remove();
                        }
                        valoresperfil=document.querySelector('#tinputInf').querySelectorAll(".item");
                        for ( var i = 0, l = valoresperfil.length; i < l; i++ ) {
                        valoresperfil[i].remove();
                        }
                    $("#CommentInf").val("").prop("readonly", false);
                    $("#EsSourceInf").val("").prop("readonly", false);
                    $("#RemuneracionPretendidaMensualInf").val("").prop("readonly", false);
                    $("#NiveldeInglesInf").val("").prop("readonly", false);
                    $("#LocacionInf").val("").prop("readonly", false);
                    $("#cvesp").val("").prop("readonly", false);
                    $("#cving").val("").prop("readonly", false);
                    $("#TpCandiInf").val("").prop("readonly", false);
                    $("#TecnoCandiInf").val("").prop("readonly", false);
                    $("#informeEntEsp").val("").prop("readonly", false);
                    $("#informeEntIng").val("").prop("readonly", false);
                    $("#EmailInf").val(data['Email Address']).prop("readonly", true);
                    $("#EMailCandidatoInf").val(data['Email Candidato']).prop("readonly", true);
                    $("#NombreyApellidodelCandidatoInf").val(data['Nombre y Apellido del Candidato']).prop("readonly", true);
                    $("#LKCandiInf").val(data['Linkedin del Candidato']).prop("readonly", true);
                    $("#IdsaEnviarInf").val(data['IDs de reserva separdos con "_" sin la palabra "ID"']).prop("readonly", false);
                    valor=data['Tecnologías que sabe el candidato'].split(',')
                    var i;
                    for (i = 0; i < valor.length; ++i) {
                          $("<div class='item'>"+valor[i]+"<div>").insertBefore("#TecnoCandiInf");
                    }
                  valor=data['Tipo de perfil del Candidato'].split(',')
                    var i;
                    for (i = 0; i < valor.length; ++i) {
                          $("<div class='item'>"+valor[i]+"<div>").insertBefore("#TpCandiInf");
                    }


                    $("#CommentInf").val(data['Comentarios adicionales']).prop("readonly", false);

                  }
                    },
                error:function(result) {
                  Toastify({
                    text: "El candidato fue contratado con anterioridad.",
                    duration: 3000,
                    newWindow: true,
                    close: true,
                    gravity: "top",
                    position: "center", 
                    stopOnFocus: true, 
                    style: {
                      background: "#221969",
                    },
                  }).showToast();
                    }
                })
  }
 $("#EMailCandidatoInf").change(function() {
    actual=$("#EMailCandidatoInf").val();
    if (anterior != actual) 
       {
        anterior=actual;
        $.ajax({type: "POST",
                url: "https://conexion.techne.net.ar:80/Getreservas",
	            data: {
                    emailCandidato: $("#EMailCandidatoInf").val(),
                    email: $("#EmailInf").val()
                      },
                      success:function(data) {
                      if (data.hasOwnProperty("datos")){
                        return false
                      }else{
                      $("#email").val("");
                     valores=document.querySelector('#minputInf').querySelectorAll(".item");
                        for ( var i = 0, l = valores.length; i < l; i++ ) {
                        valores[i].remove();
                        }
                        valoresperfil=document.querySelector('#tinputInf').querySelectorAll(".item");
                        for ( var i = 0, l = valoresperfil.length; i < l; i++ ) {
                        valoresperfil[i].remove();
                        }
                         $("#CommentInf").val("").prop("readonly", false);
                    $("#EsSourceInf").val("").prop("readonly", false);
                    $("#RemuneracionPretendidaMensualInf").val("").prop("readonly", false);
                    $("#NiveldeInglesInf").val("").prop("readonly", false);
                    $("#LocacionInf").val("").prop("readonly", false);
                    $("#cvesp").val("").prop("readonly", false);
                    $("#cving").val("").prop("readonly", false);
                    $("#TpCandiInf").val("").prop("readonly", false);
                    $("#TecnoCandiInf").val("").prop("readonly", false);
                    $("#informeEntEsp").val("").prop("readonly", false);
                    $("#informeEntIng").val("").prop("readonly", false);
                    $("#EmailInf").val(data['Email Address']).prop("readonly", true);
                    $("#EMailCandidatoInf").val(data['Email Candidato']).prop("readonly", true);
                    $("#NombreyApellidodelCandidatoInf").val(data['Nombre y Apellido del Candidato']).prop("readonly", true);
                    $("#LKCandiInf").val(data['Linkedin del Candidato']).prop("readonly", true);
                    $("#IdsaEnviarInf").val(data['IDs de reserva separdos con "_" sin la palabra "ID"']).prop("readonly", false);
	                               valor=data['Tecnologías que sabe el candidato'].split(',')
                        var i;
                        for (i = 0; i < valor.length; ++i) {
                              $("<div class='item'>"+valor[i]+"<div>").insertBefore("#TecnoCandiInf");
                        }
	                    valor=data['Tipo de perfil del Candidato'].split(',')
                        var i;
                        for (i = 0; i < valor.length; ++i) {
                              $("<div class='item'>"+valor[i]+"<div>").insertBefore("#TpCandiInf");
                        }


	                      $("#CommentInf").val(data['Comentarios adicionales'])

                      }
                    },
                error:function(result) {
                  Toastify({
                    text: "El candidato fue contratado con anterioridad.",
                    duration: 3000,
                    newWindow: true,
                    close: true,
                    gravity: "top",
                    position: "center", 
                    stopOnFocus: true, 
                    style: {
                      background: "#221969",
                    },
                  }).showToast();
                }
              })
        }
    })
  })

$("#clear").on("click", function(e) {
        $("#email").val("").prop("readonly", false);
		    $("#emailCandidato").val('').prop("readonly", false);
		    $("#naCandi").val("");
		    $("#lkCandi").val("");
		    $("#idReserva").val("");
		    $("#comment").val("");
		     valores=document.querySelector('#minput').querySelectorAll(".item");
    for ( var i = 0, l = valores.length; i < l; i++ ) {
	valores[i].remove();
    }
    valoresperfil=document.querySelector('#tinput').querySelectorAll(".item");
    for ( var i = 0, l = valoresperfil.length; i < l; i++ ) {
    valoresperfil[i].remove();
    }
 $("#EmailInf").val(decodeURIComponent(getCookie('userID')))
$("#email").val(decodeURIComponent(getCookie('userID')))
$("#email").prop("readonly", true);
$("#EmailInf").prop("readonly", true);
 });

 $("#clearInf").on("click", function(e) {
        $("#CommentInf").val("").prop("readonly", false);
        $("#EsSourceInf").val("").prop("readonly", false);
        $("#RemuneracionPretendidaMensualInf").val("").prop("readonly", false);
        $("#NiveldeInglesInf").val("").prop("readonly", false);
        $("#LocacionInf").val("").prop("readonly", false);
        $("#cvesp").val("").prop("readonly", false);
        $("#cving").val("").prop("readonly", false);
        $("#TpCandiInf").val("").prop("readonly", false);
        $("#TecnoCandiInf").val("").prop("readonly", false);
        $("#informeEntEsp").val("").prop("readonly", false);
        $("#informeEntIng").val("").prop("readonly", false);
        $("#EmailInf").val('').prop("readonly", false);
        $("#EMailCandidatoInf").val('').prop("readonly", false);
        $("#NombreyApellidodelCandidatoInf").val('').prop("readonly", false);
        $("#LKCandiInf").val('').prop("readonly", false);
        $("#IdsaEnviarInf").val('').prop("readonly", false);
        $("#EmailInf").val(decodeURIComponent(getCookie('userID')))
$("#email").val(decodeURIComponent(getCookie('userID')))
$("#email").prop("readonly", true);
$("#EmailInf").prop("readonly", true);

		     valores=document.querySelector('#minputInf').querySelectorAll(".item");
    for ( var i = 0, l = valores.length; i < l; i++ ) {
	valores[i].remove();
    }
    valoresperfil=document.querySelector('#tinputInf').querySelectorAll(".item");
    for ( var i = 0, l = valoresperfil.length; i < l; i++ ) {
    valoresperfil[i].remove();
    }
 });


$("#guardo").on("click", function(e) {

var testEmail = /^[A-Z0-9._%+-]+@([A-Z0-9-]+\.)+[A-Z]{2,4}$/i;
if (testEmail.test($("#email").val()) || testEmail.test($("#emailCandidato").val() ))
{
    e.preventDefault();
    multiinput= Array();
    valores=document.querySelector('#minput').querySelectorAll(".item")
    for ( var i = 0, l = valores.length; i < l; i++ ) {
    multiinput.push(valores[i].textContent);
    }
    tperfil=Array();
    valoresperfil=document.querySelector('#tinput').querySelectorAll(".item")
    for ( var i = 0, l = valoresperfil.length; i < l; i++ ) {
    tperfil.push(valoresperfil[i].textContent);
    }
    $.ajax({type: "POST",
       url: "https://conexion.techne.net.ar:80/insert",
	data: { 
          email: $("#email").val(), 
          emailCandidato: $("#emailCandidato").val(),
          naCandi: $("#naCandi").val(),
          lkCandi: $("#lkCandi").val(),
          idReserva: $("#idReserva").val(),
          tcandi: multiinput,
          tperfil: tperfil,
          comment: $("#comment").val(),
       },
	     async: true,
	    success:function(result) {
		    $("#email").val('').prop('readonly',false);
		    $("#emailCandidato").val('').prop('readonly',false);
		    $("#naCandi").val('');
		    $("#idReserva").val('');
		    $("#comment").val('');
		    $("#lkCandi").val('');
    valores=document.querySelector('#minput').querySelectorAll(".item");
    for ( var i = 0, l = valores.length; i < l; i++ ) {
	valores[i].remove();	     
    }
    valoresperfil=document.querySelector('#tinput').querySelectorAll(".item");
    for ( var i = 0, l = valoresperfil.length; i < l; i++ ) {
    valoresperfil[i].remove();
    }
    Toastify({
          text: "¡Reservado exitosamente!",
          duration: 3000,
          newWindow: true,
          close: true,
          gravity: "top",
          position: "center", 
          stopOnFocus: true, 
          style: {
            background: "#221969",
          },
        }).showToast();
      
	    },
        error:function(result) {
          Toastify({
          text: "Error",
          duration: 3000,
          newWindow: true,
          close: true,
          gravity: "top",
          position: "center", 
          stopOnFocus: true, 
          style: {
            background: "#221969",
          },
        }).showToast();

        }
    }
    );
}
else{
	if ( $("#email").val()!= "")
  Toastify({
  text: "Ingresá un email válido",
  duration: 3000,
  newWindow: true,
  close: true,
  gravity: "top",
  position: "center", 
  stopOnFocus: true, 
  style: {
    background: "#221969",
  },
}).showToast();
if ( $("#emailCandidato").val()!= "")
  Toastify({
  text: "Ingresá un email válido",
  duration: 3000,
  newWindow: true,
  close: true,
  gravity: "top",
  position: "center", 
  stopOnFocus: true, 
  style: {
    background: "#221969",
  },
}).showToast();
}
}
);
function borroextra(borrado){
$( "."+borrado ).remove();
}

$("#guardoInf").on("click", function(e) {
    
var testEmail = /^[A-Z0-9._%+-]+@([A-Z0-9-]+\.)+[A-Z]{2,4}$/i;
if (testEmail.test($("#EmailInf").val()) || testEmail.test($("#EMailCandidatoInf").val() ))
{
    e.preventDefault();
    multiinput= Array();
    valores=document.querySelector('#minputInf').querySelectorAll(".item")
    for ( var i = 0, l = valores.length; i < l; i++ ) {
    multiinput.push(valores[i].textContent);
    }
    tperfil=Array();
    valoresperfil=document.querySelector('#tinputInf').querySelectorAll(".item")
    for ( var i = 0, l = valoresperfil.length; i < l; i++ ) {
    tperfil.push(valoresperfil[i].textContent);
    }



    $.ajax({type: "POST",
         url: "https://conexion.techne.net.ar:80/solicitudInforme",
	data: { 
          emailInf: $("#EmailInf").val(), 
          emailCandidatoInf: $("#EMailCandidatoInf").val(),
          naCandiInf: $("#NombreyApellidodelCandidatoInf").val(),
          lkCandiInf: $("#LKCandiInf").val(),
          idReservaInf: $("#IdsaEnviarInf").val(),
          TecnoCandiInf: multiinput,
          TpCandiInf: tperfil,
          commentInf: $("#CommentInf").val(),
          EsSourceInf: $("#EsSourceInf").val(),
          remuneracionPretendidaMensualInf : $("#RemuneracionPretendidaMensualInf").val(),
          niveldeInglesInf: $("#NiveldeInglesInf").val(),
          locacionInf: $("#LocacionInf").val(),
          cvespInf: Base64File,
          informeEntEspInf: Base64FileInformeesp,
          cvingInf: Base64FileIng,
          informeEntIngInf: Base64FileInformeIng,
       },
	     async: false,
	    success:function(result) {
        $("#CommentInf").val("").prop("readonly", false);
        $("#EsSourceInf").val("").prop("readonly", false);
        $("#RemuneracionPretendidaMensualInf").val("").prop("readonly", false);
        $("#NiveldeInglesInf").val("").prop("readonly", false);
        $("#LocacionInf").val("").prop("readonly", false);
        $("#cvesp").val("").prop("readonly", false);
        $("#cving").val("").prop("readonly", false);
        $("#TpCandiInf").val("").prop("readonly", false);
        $("#TecnoCandiInf").val("").prop("readonly", false);
        $("#informeEntEsp").val("").prop("readonly", false);
        $("#informeEntIng").val("").prop("readonly", false);
        $("#EmailInf").val('').prop("readonly", false);
        $("#EMailCandidatoInf").val('').prop("readonly", false);
        $("#NombreyApellidodelCandidatoInf").val('').prop("readonly", false);
        $("#LKCandiInf").val('').prop("readonly", false);
        $("#IdsaEnviarInf").val('').prop("readonly", false);
    valores=document.querySelector('#minputInf').querySelectorAll(".item");
    for ( var i = 0, l = valores.length; i < l; i++ ) {
	valores[i].remove();	     
    }
    valoresperfil=document.querySelector('#tinputInf').querySelectorAll(".item");
    for ( var i = 0, l = valoresperfil.length; i < l; i++ ) {
    valoresperfil[i].remove();
    }
    Toastify({
          text: "¡Informe cargado exitosamente!",
          duration: 3000,
          newWindow: true,
          close: true,
          gravity: "top",
          position: "center", 
          stopOnFocus: true, 
          style: {
            background: "#221969",
          },
        }).showToast();
	    },
        error:function(result) {
          Toastify({
          text: "Error",
          duration: 3000,
          newWindow: true,
          close: true,
          gravity: "top",
          position: "center", 
          stopOnFocus: true, 
          style: {
            background: "#221969",
          },
        }).showToast();

        }
    }
    );
}
else{
	if ( $("#EmailInf").val()!= "")
  Toastify({
  text: "Ingresá un email válido",
  duration: 3000,
  newWindow: true,
  close: true,
  gravity: "top",
  position: "center", 
  stopOnFocus: true, 
  style: {
    background: "#221969",
  },
}).showToast();
if ( $("#EMailCandidatoInf").val()!= "")
  Toastify({
  text: "Ingresá un email válido",
  duration: 3000,
  newWindow: true,
  close: true,
  gravity: "top",
  position: "center", 
  stopOnFocus: true, 
  style: {
    background: "#221969",
  },
}).showToast();
}
}
);
$("#confirmar").on("click", function(e) {

$.ajax({type: "POST",
      url: "https://conexion.techne.net.ar:80/cambioEstado",
data: { 
      emailSt: $('#emailSt').val(),
      emailCandidatoSt: $('#emailCandidatoSt').val(),
      idSt:$("#idSt").val(),
      statusSt:$("#statusSt").val(),
      descripcionSt:$("#descripcionSt").val(),
      statusS3St:$("#statusS3St").val(),
      salarioMensualOfrecidoClienteSt:$("#salarioMensualOfrecidoClienteSt").val(),
      salarioMensualPretendidoSt:$("#salarioMensualPretendidoSt").val(),
      motivoFinCandi:$("#motivoFinCandi").val(),
      motivoFinCliente:$("#motivoFinCliente").val(),
      salarioMensualAcordadoSt:$("#salarioMensualAcordadoSt").val(),
      fechaIngresoSt:$("#fechaIngresoSt").val(),
      comentariosSt:$("#comentariosSt").val(),
     },
    success:function() {
      let seccion2 = document.getElementById('seccion2')
      let seccion4 = document.getElementById('seccion4')
      let seccion3 = document.getElementById('seccion3')
      seccion2.classList.remove('seccion2D')
      seccion4.classList.remove('seccion4D')
      seccion3.classList.remove('seccion3D')
      $('#emailSt').val(''),
      $('#emailCandidatoSt').val(''),
      $("#idSt").val(''),
      $("#statusSt").val(''),
      $("#descripcionSt").val(''),
      $("#statusS3St").val(''),
      $("#salarioMensualOfrecidoClienteSt").val(''),
      $("#salarioMensualPretendidoSt").val(''),
      $("#motivoFinCandi").val(''),
      $("#motivoFinCandi").val(''),
      $("#salarioMensualAcordadoSt").val(''),
      $("#fechaIngresoSt").val(''),
      $("#comentariosSt").val(''),
      Toastify({
                  text: "Estado actualizado",
                  duration: 3000,
                  newWindow: true,
                  close: true,
                  gravity: "top",
                  position: "center", 
                  stopOnFocus: true, 
                  style: {
                    background: "#221969",
                  },
                }).showToast();
    },
      error:function() {
        Toastify({
                  text: "Ocurrió un error",
                  duration: 3000,
                  newWindow: true,
                  close: true,
                  gravity: "top",
                  position: "center", 
                  stopOnFocus: true, 
                  style: {
                    background: "#221969",
                  },
                }).showToast();
      }
  }
  )});

</script>
<script>

  $.ajax({
          type: "get",
          url: "https://conexion.techne.net.ar:80/getcookie",
          success:function(data){
            console.log(data)
            $('#bienvenido').val('Bienvenido');
          },
          error:function() {
          }
        })


 function getCookie(name) {
          const value = `; ${document.cookie}`;
          const parts = value.split(`; ${name}=`);
          const valor=parts.pop().split(';').shift();
          if (Array.isArray(valor) )
          {
          return valor[0]
            }else
            {
            return valor
            }

        }
$("#EmailInf").val(decodeURIComponent(getCookie('userID')))
$("#email").val(decodeURIComponent(getCookie('userID')))
$("#email").prop("readonly", true);
$("#EmailInf").prop("readonly", true);
if (getCookie("rol")==="BO"){
$('#miscandidatos').hide();
$('#ba').hide();
$('#metricas').hide();
}
if (getCookie("rol")==="red"){
$('#informes').hide();
$('#ba').hide();
$('#cambioestados').hide();
$('#metricas').hide();
$('#revisar').hide();
}
if (getCookie("rol")==="tr"){
$('#cambioestados').hide();
$('#ba').hide();
$('#metricas').hide();
$('#revisar').hide();
}
if (getCookie("rol")==="inhouse"){
$('#ba').hide();
$('#metricas').hide();
$('#revisar').hide();
}

// if (document.cookie ==='')
// {
// location.href='https://conexion.techne.net.ar/conexion/'
// }


$("#singOffAndButton").on("click", function(e) {
document.cookie='';
location.href='https://conexion.techne.net.ar/conexion/';
})
</script>

<script src="https://cdn.jsdelivr.net/npm/bootstrap@5.1.3/dist/js/bootstrap.bundle.min.js" integrity="sha384-ka7Sk0Gln4gmtz2MlQnikT1wXgYsOg+OMhuP+IlRH9sENBO0LRn5q+8nbTov4+1p" crossorigin="anonymous"></script>
<script type="text/javascript" src="https://cdn.jsdelivr.net/npm/toastify-js"></script>

